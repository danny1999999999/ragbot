Building prefix dict from the default dictionary ...
Loading model from cache C:\Users\danny\AppData\Local\Temp\jieba.cache
Loading model cost 0.375 seconds.
Prefix dict has been built successfully.
INFO:__main__:âœ… å‘é‡ç³»ç»Ÿåˆå§‹åŒ–æˆåŠŸ
INFO:     Started server process [8676]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:9002 (Press CTRL+C to quit)
WARNING:vector_builder_langchain:ç²å–é›†åˆçµ±è¨ˆå¤±æ•— collection_test_01: 'PGVector' object has no attribute '_collection'
âœ… PGVector å¯ç”¨
âœ… OpenAI Embeddings å¯ç”¨
âœ… OpenAI API Key æ ¼å¼æ­£ç¢º
   API Key: sk-proj-***-2kA
âœ… OpenAI ç’°å¢ƒæª¢æŸ¥é€šé
âœ… EPUB è®€å–åŠŸèƒ½å·²å®Œæ•´ä¿®å¾©ï¼
ğŸ“š æ”¯æ´åŠŸèƒ½:
   â€¢ è‡ªå‹•æå–ç« ç¯€å…§å®¹
   â€¢ æ™ºèƒ½ç« ç¯€æ¨™é¡Œè­˜åˆ¥
   â€¢ ä¸­æ–‡æ–‡æœ¬æ¨™æº–åŒ–
   â€¢ æ›¸ç±å…ƒè³‡æ–™æå–
   â€¢ HTML æ¨™ç±¤æ¸…ç†
   â€¢ å¤šç« ç¯€æ™ºèƒ½åˆ†å‰²
âœ… DOCX æ”¯æ´å·²å•Ÿç”¨ (docx2txt)
âœ… EPUB æ”¯æ´å·²å•Ÿç”¨
âœ… å‘é‡ç³»ç»Ÿå¯¼å…¥æˆåŠŸ
============================================================
ğŸ” å‘é‡æ•°æ®åº“APIæœåŠ¡ v1.0
============================================================
ğŸ“ æœåŠ¡ç«¯å£: 9002
ğŸ“– APIæ–‡æ¡£: http://localhost:9002/docs
ğŸ” å¥åº·æ£€æŸ¥: http://localhost:9002/health
ğŸ¤– å‘é‡ç³»ç»Ÿ: âœ… å¯ç”¨
============================================================
ğŸ”§ åˆå§‹åŒ–å‘é‡ç³»ç»Ÿ...
âœ… PostgreSQL é€£æ¥æ­£å¸¸
ğŸ”§ åˆå§‹åŒ– OpenAI Embeddings...
âœ… OpenAI Embeddings åˆå§‹åŒ–æˆåŠŸ
ğŸ”¤ ç¹ç°¡è½‰æ›å™¨åˆå§‹åŒ–å®Œæˆ
ğŸ”¤ ç¹ç°¡è½‰æ›å™¨åˆå§‹åŒ–å®Œæˆ
âœ… æ–‡æœ¬è™•ç†çµ„ä»¶åˆå§‹åŒ–å®Œæˆ
ğŸ”¤ ç¹ç°¡è½‰æ›å™¨åˆå§‹åŒ–å®Œæˆ
ğŸ”§ å„ªåŒ–ç‰ˆæ–‡æœ¬åˆ†å‰²å™¨åˆå§‹åŒ–å®Œæˆ
   ğŸ“ æ”¯æŒ 11 ç¨®æ–‡æœ¬é¡å‹
   ğŸ§  æ™ºèƒ½ç­–ç•¥é¸æ“‡
   âš¡ æ€§èƒ½å„ªåŒ–
ğŸš€ å®Œæ•´å„ªåŒ–ç‰ˆå‘é‡ç³»çµ±åˆå§‹åŒ–å®Œæˆ
   ğŸ¤– åµŒå…¥æ¨¡å‹: openai
   ğŸ“ æ•¸æ“šç›®éŒ„: data
   ğŸ—„ï¸ å‘é‡åº«: chroma_langchain_db
   ğŸ§  æ™ºèƒ½æ–‡æœ¬è™•ç†: âœ…
   ğŸ”§ è‡ªé©æ‡‰æ‰¹æ¬¡: âœ…
âœ… PGVector å‘é‡å­˜å„²å°±ç·’: collection_test_01
INFO:     127.0.0.1:53403 - "GET /health HTTP/1.1" 200 OK
INFO:vector_builder_langchain:--- SANITIZED VERSION: Manually building a safe response. ---
ERROR:vector_builder_langchain:SANITIZED VERSION FAILED: 'PGVector' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\Users\danny\pyRag\bot_lang\cloud\vector_builder_langchain.py", line 3165, in get_collection_documents
    all_docs_raw = vectorstore.get() # This is the suspected problem source
                   ^^^^^^^^^^^^^^^
AttributeError: 'PGVector' object has no attribute 'get'
INFO:     127.0.0.1:57969 - "GET /collections/collection_test_01/files HTTP/1.1" 200 OK
INFO:__main__:ğŸ“¤ ä¸Šä¼ è¯·æ±‚: ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf -> collection_test_01
INFO:httpx:HTTP Request: POST https://api.openai.com/v1/embeddings "HTTP/1.1 200 OK"
INFO:vector_builder_langchain:ğŸ“ æ–‡ä»¶è¨˜éŒ„å·²ä¿å­˜åˆ°dataç›®éŒ„:
INFO:vector_builder_langchain:   ğŸ“ é›†åˆæ•¸: 1
INFO:vector_builder_langchain:   ğŸ“„ ç¸½æª”æ¡ˆ: 15
INFO:__main__:âœ… ä¸Šä¼ å®Œæˆ: ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf (2.58s)
âš ï¸ æª”æ¡ˆ ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf å·²å­˜åœ¨ï¼Œå°‡æœƒè¦†è“‹
ğŸ’¾ ä¿å­˜æª”æ¡ˆåˆ°: data\test_01\ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf
âœ… æª”æ¡ˆä¿å­˜æˆåŠŸ: data\test_01\ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf (234874 bytes)
ğŸ“„ é–‹å§‹è™•ç†æª”æ¡ˆ: ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf
ğŸ“Š æ–‡æœ¬åˆ†æ: long_text (2,000 å­—ç¬¦)
   ğŸ¯ è™•ç†ç­–ç•¥: chapter_aware
   ğŸ“ˆ è³ªé‡åˆ†æ•¸: 1.00
   ğŸ—£ï¸ ä¸»è¦èªè¨€: chinese
   ğŸ“š é•·æ–‡æœ¬ç²¾ç´°åŒ–åˆ†å‰² - æª¢æ¸¬åˆ° 6 å€‹ç« ç¯€
   ğŸ“‘ é•·æ–‡æœ¬ç²¾ç´°åŒ–åˆ†å‰² (ç›®æ¨™å¤§å°: 500)
   ğŸ“‘ é•·æ–‡æœ¬ç²¾ç´°åŒ–åˆ†å‰² (ç›®æ¨™å¤§å°: 500)
   ğŸ“‘ é•·æ–‡æœ¬ç²¾ç´°åŒ–åˆ†å‰² (ç›®æ¨™å¤§å°: 500)
   ğŸ“‘ é•·æ–‡æœ¬ç²¾ç´°åŒ–åˆ†å‰² (ç›®æ¨™å¤§å°: 500)
   ğŸ“‘ é•·æ–‡æœ¬ç²¾ç´°åŒ–åˆ†å‰² (ç›®æ¨™å¤§å°: 500)
ğŸ“„ æ–‡æª”è¼‰å…¥å®Œæˆ: ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf (5 å€‹åˆ†å¡Š)
âš ï¸ åˆªé™¤æ¢ä»¶ {'source': 'data\\test_01\\ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf'} æ™‚å‡ºç¾è­¦å‘Š: 'PGVector' object has no attribute 'get'
âš ï¸ åˆªé™¤æ¢ä»¶ {'original_filename': 'ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf'} æ™‚å‡ºç¾è­¦å‘Š: 'PGVector' object has no attribute 'get'
âš ï¸ åˆªé™¤æ¢ä»¶ {'filename': 'ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf'} æ™‚å‡ºç¾è­¦å‘Š: 'PGVector' object has no attribute 'get'
ğŸ”„ é–‹å§‹å‘é‡åŒ–è™•ç†...
ğŸ”§ å‰µå»ºæ™ºèƒ½æ‰¹æ¬¡...
   ğŸ“„ ç¸½æ–‡æª”æ•¸: 5
   ğŸ“ Token é™åˆ¶: 150,000
   ğŸ“¦ æœ€å¤§æ‰¹æ¬¡å¤§å°: 8
   ğŸ§  è‡ªé©æ‡‰æ‰¹æ¬¡: âœ…
âœ… æ™ºèƒ½æ‰¹æ¬¡å‰µå»ºå®Œæˆ:
   ğŸ“¦ ç¸½æ‰¹æ¬¡æ•¸: 1
   ğŸ“„ ç¸½æ–‡æª”æ•¸: 5
   ğŸ“ ç¸½ tokens: 1,067
   ğŸ“Š å¹³å‡ tokens/æ‰¹æ¬¡: 1067
   ğŸ’° ä¼°ç®—æˆæœ¬: $0.0000

ğŸ”„ é–‹å§‹æ‰¹æ¬¡å‘é‡åŒ–...
   ğŸ“¦ ç¸½æ‰¹æ¬¡æ•¸: 1
   ğŸ“„ ç¸½æ–‡æª”æ•¸: 5

   ğŸ“¦ æ‰¹æ¬¡ 1/1
      ğŸ“„ æ–‡æª”æ•¸: 5
      ğŸ“ tokens: 1,067
      ğŸ“Š ä½¿ç”¨ç‡: 0.7%
      ğŸ·ï¸ é¡å‹: long_text:5
      ğŸš€ é–‹å§‹è™•ç†æ‰¹æ¬¡ 1...
      ğŸ“¡ æ­£åœ¨èª¿ç”¨ OpenAI API... (é€™å¯èƒ½éœ€è¦ 30-60 ç§’)
      ğŸ”§ å·²è™•ç† 5 å€‹æ–‡æª”çš„å…ƒæ•¸æ“šï¼Œç¢ºä¿é¡å‹å…¼å®¹
      âœ… æ‰¹æ¬¡ 1 å®Œæˆ (1.8s)
      ğŸ“Š ç¸½é€²åº¦: 5/5 (100.0%)
âœ… æ–‡ä»¶ä¸Šå‚³å®Œæˆ: ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf
   ğŸ“ ä¿å­˜ä½ç½®: data\test_01\ã€æ•™é¤Šæ–°è¦–é‡ã€‘èªè­˜æŠ–éŸ³è…¦ï¼šçŸ­å½±éŸ³å¦‚ä½•å½±éŸ¿æˆ‘å€‘çš„ä¸‹ä¸€ä»£ï¼Ÿ_msjh.pdf
   ğŸ“„ åˆ†å¡Šæ•¸é‡: 5
   âœ… æˆåŠŸå‘é‡åŒ–: 5
INFO:     127.0.0.1:57990 - "POST /upload HTTP/1.1" 200 OK
INFO:vector_builder_langchain:--- SANITIZED VERSION: Manually building a safe response. ---
ERROR:vector_builder_langchain:SANITIZED VERSION FAILED: 'PGVector' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\Users\danny\pyRag\bot_lang\cloud\vector_builder_langchain.py", line 3165, in get_collection_documents
    all_docs_raw = vectorstore.get() # This is the suspected problem source
                   ^^^^^^^^^^^^^^^
AttributeError: 'PGVector' object has no attribute 'get'
INFO:     127.0.0.1:58000 - "GET /collections/collection_test_01/files HTTP/1.1" 200 OK
INFO:vector_builder_langchain:--- SANITIZED VERSION: Manually building a safe response. ---
ERROR:vector_builder_langchain:SANITIZED VERSION FAILED: 'PGVector' object has no attribute 'get'
Traceback (most recent call last):
  File "C:\Users\danny\pyRag\bot_lang\cloud\vector_builder_langchain.py", line 3165, in get_collection_documents
    all_docs_raw = vectorstore.get() # This is the suspected problem source
                   ^^^^^^^^^^^^^^^
AttributeError: 'PGVector' object has no attribute 'get'
INFO:     127.0.0.1:64414 - "GET /collections/collection_test_01/files HTTP/1.1" 200 OK
